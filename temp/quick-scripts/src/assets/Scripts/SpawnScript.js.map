{"version":3,"sources":["assets\\Scripts\\SpawnScript.js"],"names":["cc","Class","Component","properties","diamond","type","Prefab","isSpawn","boolean","onLoad","director","getCollisionManager","enabled","onBeginContact","contact","selfCollider","otherCollider","onEndContact","scene","getScene","Diamond","instantiate","parent","setPosition","node","x","y","name","color","Math","floor","random","Color","CYAN","RED","ORANGE","GREEN","WHITE","start","update","dt"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        diamond: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n          },\r\n        isSpawn: boolean = true,\r\n\r\n    },\r\n    \r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.director.getCollisionManager().enabled = true;\r\n        isSpawn=true;\r\n    },\r\n\r\n    onBeginContact: function (contact, selfCollider, otherCollider) {\r\n        isSpawn=false;\r\n        //otherCollider.body.linearVelocity=cc.v2(0,-30);\r\n    },\r\n\r\n    onEndContact (contact, selfCollider, otherCollider)\r\n    {\r\n        var scene = cc.director.getScene();\r\n        var Diamond = cc.instantiate(this.diamond);\r\n        Diamond.parent = scene;\r\n        Diamond.setPosition(selfCollider.node.x, selfCollider.node.y);\r\n        Diamond.name='diam';\r\n        var color=Math.floor(Math.random()*5);\r\n        switch(color)\r\n        {\r\n            case 0:\r\n                Diamond.color=cc.Color.CYAN;\r\n                break;\r\n            case 1:\r\n                Diamond.color=cc.Color.RED;\r\n                break;\r\n            case 2:\r\n                Diamond.color=cc.Color.ORANGE;\r\n                break;\r\n            case 3:\r\n                Diamond.color=cc.Color.GREEN;\r\n                break;\r\n            case 4:\r\n                Diamond.color=cc.Color.WHITE;\r\n                break;\r\n        }\r\n    },\r\n\r\n    start () { },\r\n\r\n    update (dt) {\r\n        if(isSpawn)\r\n        {\r\n            var scene = cc.director.getScene();\r\n            var Diamond = cc.instantiate(this.diamond);\r\n            Diamond.parent = scene;\r\n            var node = this.node;\r\n            Diamond.setPosition(node.x, node.y);\r\n            Diamond.name='diam';\r\n            var color=Math.floor(Math.random()*5);\r\n            switch(color)\r\n            {\r\n                case 0:\r\n                    Diamond.color=cc.Color.CYAN;\r\n                    break;\r\n                case 1:\r\n                    Diamond.color=cc.Color.RED;\r\n                    break;\r\n                case 2:\r\n                    Diamond.color=cc.Color.ORANGE;\r\n                    break;\r\n                case 3:\r\n                    Diamond.color=cc.Color.GREEN;\r\n                    break;\r\n                case 4:\r\n                    Diamond.color=cc.Color.WHITE;\r\n                    break;\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}